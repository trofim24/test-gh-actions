name: GitHub Actions Demo
run-name: ${{ github.actor }} is testing out GitHub Actions ðŸš€
on:
  workflow_dispatch:
    inputs:
      url:
        description: Stand to test
        required: true
        default: release
        type: choice
        options:
        - release
        - hotfix
        - develop

env:
  url: ${{github.event.inputs.url}}
  SELECTED_URL: ${{ github.event.inputs.url == 'release' && secrets.URL_RELEASE || github.event.inputs.url == 'hotfix' && secrets.URL_HOTFIX || secrets.URL_DEVELOP }}

jobs:
  puppeteer-docserver:
    runs-on: ubuntu-latest

    steps:
      - name: Update config
        run: |
          node -e "
            const fs = require('fs');
            const config = {};

            config.api_key = 'test';
            config.url = process.env.SELECTED_URL;
            console.log(config);
          "
